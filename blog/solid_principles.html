<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/73fcf1b2aae611441360.css" as="style"/><link rel="stylesheet" href="/_next/static/css/73fcf1b2aae611441360.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a8a3587c85daa8ae5e75.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a8a3587c85daa8ae5e75.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-1d8564d2d19a2a5ef479.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-92300432a1172ef1338b.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-71948af4b0f09c0fc30e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-500c8f7ead61bc5d001f.js" as="script"/><link rel="preload" href="/_next/static/chunks/309-c070322e04d9178f6311.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-c2e09ad3f88578b5b99e.js" as="script"/></head><body><div id="__next"><div style="height:10px"></div><main class="container"><div class="btn btn-back">Back</div><div class="card card-page"><h1 class="post-title">SOLID Principles</h1><div class="post-date">Posted on <!-- -->Mon 29 Dec 2021</div><img src="/images/posts/solid.jpeg" alt=""/><div class="post-body"><div><h2 id="the-principles-">The principles :</h2>
<ul>
<li>Single-responsibility principle</li>
<li>Open-Closed principle</li>
<li>Liskov substitution principle</li>
<li>Interface segregation principle</li>
<li>Dependency inversion principle<br/>
<br/></li>
</ul>
<h3 id="single-responsibility-principle">Single Responsibility Principle</h3>
<hr>
<p>A class should do one thing and therefore it should have only a single reason to change</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span> {</span>
    <span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">int</span> speed;
    Engine* engine;
    <span class="hljs-keyword">int</span> mileage;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">changeSpeed</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">changeDirection</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repair</span><span class="hljs-params">()</span></span>;            <span class="hljs-comment">// Violate SRP</span>
}

<span class="hljs-comment">// FIX</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Garage</span> {</span>
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repair</span><span class="hljs-params">(Vehicle* vehicle)</span></span>;
}
</code></pre>
<br/>
<br/>

<h3 id="open-closed-principle">Open Closed Principle</h3>
<hr>
<p>Classes should be open for extension and closed to modification.</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Garage</span> {</span>
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repairLocal</span><span class="hljs-params">(Vehicle* vehicle)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repairBranded</span><span class="hljs-params">(Vehicle* vehicle)</span></span>; <span class="hljs-comment">// Violate Open closed principle</span>
}
<span class="hljs-comment">// Addition of new tyep of repair will result into modfying the existing class.</span>

<span class="hljs-comment">//FIX</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Garage</span> {</span>
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rapair</span><span class="hljs-params">(Vehicle* vehicle)</span> </span>= <span class="hljs-number">0</span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LocalGarage</span> :</span> <span class="hljs-keyword">public</span> Garage {
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repair</span><span class="hljs-params">(Vehicle* vehicle)</span></span>;  <span class="hljs-comment">//Local repair</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BrandedGarage</span> :</span> <span class="hljs-keyword">public</span> Garage {
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repair</span><span class="hljs-params">(Vehicle* vehicle)</span></span>;  <span class="hljs-comment">//Branded repair</span>
}
</code></pre>
<br/>
<br/>

<h3 id="liskov-substitution-principle">Liskov Substitution Principle</h3>
<hr>
<p>Subclasses should be substitutable for their base classes</p>
<blockquote>
<p>Liskov Substitution Principle is an extension of the Open Close Principle and is violated when you have written code that throws “not implemented exceptions” or you hide methods in a derived class that have been marked as virtual in the base class.</p>
</blockquote>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span> {</span>
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeGear</span><span class="hljs-params">()</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Scooti</span> :</span> <span class="hljs-keyword">public</span> Vehicle {
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">changeGear</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">throw</span>(<span class="hljs-string">"Not implemented"</span>); <span class="hljs-comment">//Violate Liskov substitution principle</span>
    }
}

<span class="hljs-comment">// FIX</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span> {</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GearVehicle</span> :</span> <span class="hljs-keyword">public</span> Vehicle {
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeGear</span><span class="hljs-params">()</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NonGearVehicle</span> :</span> <span class="hljs-keyword">public</span> Vehicle {
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Scooti</span> :</span> <span class="hljs-keyword">public</span> NonGearVehicle {
}
</code></pre>
<br/>
<br/>

<h3 id="interface-segregation-principle">Interface Segregation Principle</h3>
<hr>
<p>Separating the interfaces</p>
<blockquote>
<p>The principle states that many client-specific interfaces are better than one general-purpose interface. Clients should not be forced to implement a function they do no need.</p>
</blockquote>
<pre><code><span class="hljs-comment">// FIX</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span> {</span> <span class="hljs-comment">// Common Base Interface</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GearVehicle</span> :</span> <span class="hljs-keyword">public</span> Vehicle { <span class="hljs-comment">// Segregated Interface 1</span>
    <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeGear</span><span class="hljs-params">()</span></span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NonGearVehicle</span> :</span> <span class="hljs-keyword">public</span> Vehicle { <span class="hljs-comment">// Segregated Interface 1</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Scooti</span> :</span> <span class="hljs-keyword">public</span> NonGearVehicle { <span class="hljs-comment">// Implement only what required</span>
}
</code></pre>
<br/>
<br/>

<h3 id="lsp-vs-isp">LSP vs ISP</h3>
<blockquote>
<p>LSP: The receiver must honor the contracts it promises.
ISP: The caller shouldn’t depend on more of the receiver’s interface than it needs.
Where they fit: If you apply the ISP, you use only a slice of the receiver’s full interface. But according to LSP, the receiver must still honor that slice. If you fail to apply ISP, there can be a temptation to violate LSP. Because “this method doesn’t matter, it won’t actually be called.”</p>
</blockquote>
<p>Liskov Substitution addresses <strong>Subtypes</strong> design whereas Interface Segregation addresses <strong>Basetypes</strong> design.
<br/>
<br/></p>
<h3 id="dependency-inversion-principle">Dependency Inversion Principle</h3>
<hr>
<p>Our classes should depend upon interfaces or abstract classes instead of concrete classes and functions</p>
<pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span> {</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> :</span> <span class="hljs-keyword">public</span> Vehicle {
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Garage</span> {</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">repair</span><span class="hljs-params">(Vehicle* vehicle)</span></span>; <span class="hljs-comment">// depends on Vehicle interface rather then on Car</span>
}
</code></pre>
</div></div><div class="shareDiv"><button aria-label="email" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#7f7f7f"></circle><path d="M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z" fill="white"></path></svg></button><button aria-label="facebook" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#3b5998"></circle><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></svg></button><button aria-label="linkedin" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#007fb1"></circle><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#00aced"></circle><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></svg></button><button aria-label="whatsapp" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="32" height="32"><circle cx="32" cy="32" r="31" fill="#25D366"></circle><path d="m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915" fill="white"></path></svg></button></div></div><div class="btn btn-back">Back</div></main><footer class="Home_footer__1WdhD"><a href="/">© subhashjha.in</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"SOLID Principles","date":"Mon 29 Dec 2021","excerpt":"Set of rules each programmer should adhere to in order to make the code more secure, robust and extensible. This is my attempt to make it easier to understand with the help of simple examples.","cover_image":"/images/posts/solid.jpeg"},"slug":"solid_principles","content":" \n\n## The principles :\n- Single-responsibility principle\n- Open-Closed principle\n- Liskov substitution principle\n- Interface segregation principle\n- Dependency inversion principle\n\u003cbr/\u003e\n\u003cbr/\u003e\n\n### Single Responsibility Principle\n---\nA class should do one thing and therefore it should have only a single reason to change\n```\nclass Vehicle {\n\tpublic:\n\tint speed;\n\tEngine* engine;\n\tint mileage;\n\tvoid changeSpeed();\n\tvoid changeDirection();\n\tvoid repair();            // Violate SRP\n}\n\n// FIX\nclass Garage {\n\tpublic:\n\tvoid repair(Vehicle* vehicle);\n}\n```\n\u003cbr/\u003e\n\u003cbr/\u003e\n\n### Open Closed Principle\n---\nClasses should be open for extension and closed to modification.\n```\nclass Garage {\n\tpublic:\n\tvoid repairLocal(Vehicle* vehicle);\n\tvoid repairBranded(Vehicle* vehicle); // Violate Open closed principle\n}\n// Addition of new tyep of repair will result into modfying the existing class.\n\n//FIX\nclass Garage {\n\tpublic:\n\tvirtual void rapair(Vehicle* vehicle) = 0;\n}\n\nclass LocalGarage : public Garage {\n\tpublic:\n\tvoid repair(Vehicle* vehicle);  //Local repair\n}\n\nclass BrandedGarage : public Garage {\n\tpublic:\n\tvoid repair(Vehicle* vehicle);  //Branded repair\n}\n\n```\n\u003cbr/\u003e\n\u003cbr/\u003e\n\n### Liskov Substitution Principle\n---\nSubclasses should be substitutable for their base classes\n\u003e Liskov Substitution Principle is an extension of the Open Close Principle and is violated when you have written code that throws “not implemented exceptions” or you hide methods in a derived class that have been marked as virtual in the base class.\n```\nclass Vehicle {\n\tpublic:\n\tvirtual void changeGear();\n}\n\nclass Scooti : public Vehicle {\n\tpublic:\n\tvoid changeGear(){\n\t\tthrow(\"Not implemented\"); //Violate Liskov substitution principle\n\t}\n}\n\n// FIX\nclass Vehicle {\n}\n\nclass GearVehicle : public Vehicle {\n\tpublic:\n\tvirtual void changeGear();\n}\n\nclass NonGearVehicle : public Vehicle {\n}\n\nclass Scooti : public NonGearVehicle {\n}\n```\n\u003cbr/\u003e\n\u003cbr/\u003e\n\n### Interface Segregation Principle\n---\nSeparating the interfaces\n\u003e The principle states that many client-specific interfaces are better than one general-purpose interface. Clients should not be forced to implement a function they do no need.\n```\n// FIX\nclass Vehicle { // Common Base Interface\n}\n\nclass GearVehicle : public Vehicle { // Segregated Interface 1\n\tpublic:\n\tvirtual void changeGear();\n}\n\nclass NonGearVehicle : public Vehicle { // Segregated Interface 1\n}\n\nclass Scooti : public NonGearVehicle { // Implement only what required\n}\n```\n\u003cbr/\u003e\n\u003cbr/\u003e\n\n### LSP vs ISP\n\u003e LSP: The receiver must honor the contracts it promises.\nISP: The caller shouldn’t depend on more of the receiver’s interface than it needs.\nWhere they fit: If you apply the ISP, you use only a slice of the receiver’s full interface. But according to LSP, the receiver must still honor that slice. If you fail to apply ISP, there can be a temptation to violate LSP. Because “this method doesn’t matter, it won’t actually be called.”\n\nLiskov Substitution addresses **Subtypes** design whereas Interface Segregation addresses **Basetypes** design.\n\u003cbr/\u003e\n\u003cbr/\u003e\n\n### Dependency Inversion Principle\n---\nOur classes should depend upon interfaces or abstract classes instead of concrete classes and functions\n\n```\nclass Vehicle {\n}\n\nclass Car : public Vehicle {\n}\n\nclass Garage {\npublic:\n\tvoid repair(Vehicle* vehicle); // depends on Vehicle interface rather then on Car\n}\n```","url":"https://subhashjha.in/blog/solid_principles"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"solid_principles"},"buildId":"8fvCc7W5YCzP0B5DjWhwC","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/_next/static/chunks/webpack-1d8564d2d19a2a5ef479.js" async=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" async=""></script><script src="/_next/static/chunks/main-71948af4b0f09c0fc30e.js" async=""></script><script src="/_next/static/chunks/pages/_app-500c8f7ead61bc5d001f.js" async=""></script><script src="/_next/static/chunks/309-c070322e04d9178f6311.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c2e09ad3f88578b5b99e.js" async=""></script><script src="/_next/static/8fvCc7W5YCzP0B5DjWhwC/_buildManifest.js" async=""></script><script src="/_next/static/8fvCc7W5YCzP0B5DjWhwC/_ssgManifest.js" async=""></script></body></html>